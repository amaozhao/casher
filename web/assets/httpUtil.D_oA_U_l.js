import{U as t,V as e,a as o,W as a,n}from"./index-B-psPONm.js";function s(s){return console.log("getStorageSync",t("token")),new Promise(((i,r)=>{e({url:"https://test.aidep.cn/"+s.url,method:s.method||"GET",data:s.data||{},header:s.header||{"Content-Type":"application/json",Authorization:"Bearer "+t("token")},success:t=>{console.log("Authorization",t),i(null==t?void 0:t.data);const{detail:e,message:s}=t.data;if(200!=t.statusCode){if(!e&&!s)return;o({title:e||s,duration:2e3,icon:"none"})}401==t.statusCode&&(a({key:"token"}),n({url:"/pages/toc/toc02Login"}))},fail:t=>{r(t)}})}))}export{s as r};
