import{g as t,P as e,h as a,Q as s,p as o,q as n,l as i,k as r,s as p,m as c}from"./index-XYCATuhz.js";const l=(t,e)=>{const a=t.__vccOpts||t;for(const[s,o]of e)a[s]=o;return a},u={cappsList:"/capps",templatesList:"/capps/templates",gpusList:"/capps/gpus",createCapp:"/capps/create",startCapp:"/capps/start/",stopCapp:"/capps/stop/",delCapp:"/capps/",userInfo:"/users/me",durationType:"/powers/duration-types",durationPrice:"/powers/clculate-duration-price",clculatePrice:"/powers/clculate-price",transactionsList:"/transactions",flowsList:"/flow/flows/",promptStart:"/task/prompt/",imgResult:"/task/view/",imgHistory:"/task/history/",mplogin:"/wxapp/login/",qrcodeLogin:"/accounts/weixin/login_url/",googleLogin:"/accounts/google/login_url/",uploadUrl:"/task/upload/",depositPay:"/payment/create-payment/",wechatPay:"/payment/create-wechatpay/",wechatPayResult:"/payment/wechat-check/",getPower:"/payment/user-hashrate/",powersOptions:"/payment/hashrate-template/",pricePowers:"/payment/hashrate-convert/",commentsPop:"/flow/comments/",banner:"/flow/banner/",imgInfo:"/task/history/detail/",delimg:"/task/history/delete/",workInfo:"/task/view/"};function g(t){return d.httpRequest({url:u.googleLogin,method:"GET"},t)}function h(t){return d.httpRequest({url:u.qrcodeLogin,method:"GET"},t)}const d={baseUrl:"https://aidep.cn",httpRequest:(l,g)=>{let h=t("token"),m=t("language"),w={url:"https://aidep.cn"+l.url,data:g,method:l.method,header:"get"==l.method?{languageStr:m,authorization:"bearer "+h,"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/json; charset=UTF-8"}:{languageStr:m,authorization:"bearer "+h,"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json; charset=UTF-8"},dataType:"json"};return new Promise((function(l,g){e(w).then((e=>{switch(e.data.status){case 401:if(s("token"),"mp-weixin"===t("uniPlatform"))i({success(t){if(t.code){r({title:"加载中",mask:!0});var e=t.code;uni.getUserInfo({lang:"zh_CN",success:t=>{let s={};var o;s.code=e,s.rawData=t.rawData,s.signature=t.signature,s.encryptedData=t.encryptedData,s.iv=t.iv,(o=s,d.httpRequest({url:u.mplogin,method:"POST"},o)).then((t=>{if(200!=t.status)return a({icon:"none",title:t.data.msg});p("token",t.data.token),a({icon:"success",title:"登录成功"}),c()}))},fail:t=>(c(),a({icon:"none",title:"亲爱的用户，您拒绝了！我就不给您跳转了。"}))})}},fail:t=>a({icon:"none",title:"亲爱的用户，您拒绝了！我就不给您跳转了。"})});else o({url:"/pages/toc/toc02Login?origin_url=/"+n()[0].route});case 200:break;default:a({icon:"none",title:e.data.message})}l(e.data)})).catch((t=>{g(t)}))}))}},m="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.36025%2012.9744H13.0683V6.4359C13.0683%205.15385%2012.0745%204%2010.7081%204H6.36025C4.99379%204%204%205.15385%204%206.4359V10.6667C4%2011.9487%204.99379%2012.9744%206.36025%2012.9744ZM23.8758%2010.6667V6.4359C23.8758%205.15385%2022.882%204%2021.5155%204H17.1677C15.9255%204%2014.8075%205.02564%2014.8075%206.4359V13.1026H21.5155C22.882%2012.9744%2023.8758%2011.9487%2023.8758%2010.6667ZM17.2919%2024H21.764C23.0062%2024%2024%2022.9744%2024%2021.5641V17.3333C24%2016.0513%2023.0062%2014.8974%2021.6398%2014.8974H14.9317V21.5641C14.9317%2022.8462%2015.9255%2024%2017.2919%2024ZM6.36025%2024H10.7081C11.9503%2024%2013.0683%2022.9744%2013.0683%2021.5641V15.0256H6.36025C5.11801%2015.0256%204%2016.0513%204%2017.4615V21.6923C4%2022.8462%204.99379%2024%206.36025%2024Z'%20fill='white'/%3e%3c/svg%3e";export{l as _,m as a,u as c,g,h as q,d as r};
