import{j as t,v as s,c as e,w as i,f as o,o as a,a as n,b as l,t as d,C as c,A as r}from"./index-XYCATuhz.js";import{a as u}from"./index.CM6XhG26.js";import{T as g}from"./index.LYgkk2Rr.js";import{_ as m}from"./note2.w3RVvWxD.js";import{_ as h}from"./load.B3pZkcbV.js";import{_}from"./home.CuM7m_8H.js";const f=_({components:{TopDiv:g},data:()=>({isLogin:!1,href:"https://uniapp.dcloud.io/component/README?id=uniui",second:60,start:!0,timer:null,jilu_id:"",workflow_id:"",fee:""}),onLoad(t){t.jilu_id&&(this.jilu_id=t.jilu_id),t.id&&(this.workflow_id=t.id),t.fee&&(this.fee=Number(t.fee)),t.consuming&&(this.consuming=t.consuming,this.second=t.consuming)},onShow:function(){this.clearTimer(),this.getResult()},methods:{getResult(){this.timer=setInterval((()=>{this.second>0&&(this.second--,u({jilu_id:this.jilu_id}).then((t=>{200==t.status&&"success"==t.data.task_status&&(this.start=!1,this.goNextPage(this.jilu_id))})),(this.second<1||!this.start)&&(this.start=!1,this.clearTimer(),this.getResult2()))}),1e3)},getResult2(){this.start=!0,this.timer=setInterval((()=>{this.second++,u({jilu_id:this.jilu_id}).then((t=>{200==t.status&&"success"==t.data.task_status&&(this.start=!1,this.goNextPage(this.jilu_id))})),this.start||this.clearTimer()}),1e3)},clearTimer(){this.timer&&(clearInterval(this.timer),this.timer=null)},goHomePage(){t({url:"/pages/index/index"})},goRecordPage(){t({url:"/pages/toc/toc24Record"})},goNextPage(s){t({url:"/pages/toc/toc25Product?id="+s})}},beforeUnmount(){this.clearTimer()}},[["render",function(t,u,g,_,f,x){const p=s("TopDiv"),j=r,v=o;return a(),e(v,{class:"flex column alignCenter bg_div"},{default:i((()=>[n(p),n(v,{class:"btn2Bottom flex",onClick:u[0]||(u[0]=t=>x.goRecordPage())},{default:i((()=>[n(j,{src:m}),n(v,{class:"goRecordPage"},{default:i((()=>[l(d(t.$t("tocIndex_text3")),1)])),_:1})])),_:1}),n(v,{class:"flex column alignCenter loding_div"},{default:i((()=>[n(j,{class:"load_image",src:h}),n(v,{class:"loding_text textAlign"},{default:i((()=>[l(d(t.$t("tocLoading_text1"))+" ",1),c("span",{class:"loding_value"},d(f.second),1),l(" "+d(t.$t("tocLoading_text2"))+" â€¦.. ",1)])),_:1})])),_:1}),n(v,{class:"notice textAlign"},{default:i((()=>[l(d(t.$t("tocLoading_text3")),1)])),_:1}),n(v,{class:"notice2"},{default:i((()=>[l(d(t.$t("tocLoading_text4")),1)])),_:1}),n(v,{class:"bottom_btn",onClick:u[1]||(u[1]=t=>x.goHomePage())},{default:i((()=>[l(d(t.$t("tocLoading_text5")),1)])),_:1})])),_:1})}],["__scopeId","data-v-13e74165"]]);export{f as default};
