import{g as t,a as e,s as a,b as s,r as n,l,c as i,d as o,h as c,n as r,e as d,f as u,i as _,w as f,j as p,o as g,k as m,m as x,p as h,t as b,q as C,u as w,F as y,v as k,x as v,y as j}from"./index-DvIUTlip.js";import{_ as L}from"./uni-link.D1KAIbqO.js";import{C as I,c as $,a as P,r as B}from"./index.CfQBTuy4.js";import{b as H,m as T,_ as D}from"./githup.DA1VFeXW.js";import{_ as S}from"./home.DXBiSWH8.js";import{_ as A,a as M}from"./speed.FiO8-Deg.js";import{_ as U}from"./_plugin-vue_export-helper.BCo6x5W8.js";const R=U({components:{Content:I},data:()=>({src:"https://beian.miit.gov.cn/",appStatusBarHeight:0,href:"https://uniapp.dcloud.io/component/README?id=uniui",isChinese:Boolean(t("isChinese")),clientList:[],cappList:[],scene:""}),onLoad(t){if("mp-weixin"!==e("uniPlatform")){let t=new URL(window.location.href).searchParams.get("token");t&&a("token",t)}this.getb_templates(),t.scene&&(this.scene=t.scene)},onShow:function(){let{statusBarHeight:t}=s();t>0&&(this.appStatusBarHeight=40+t)},methods:{handlecomfyui(){$().then((t=>{200==t.status&&this.openHref(t.url)}))},getb_templates(){H().then((t=>{200==t.status&&(this.clientList=t.data||[])}))},getCappsList(){P().then((t=>{2e4==t.code&&(this.cappList=t.data.containers||[])}))},async handleLogin(){if(e("token")){await this.getCappsList();let t=this.cappList.find((t=>"Status"==t.Status));t?this.openHref(t.Path):this.goCreatePage()}else{var t=this;if("mp-weixin"===e("uniPlatform"))l({success(e){if(e.code){i({title:"加载中",mask:!0});var s=e.code;uni.getUserInfo({lang:"zh_CN",success:e=>{let n={};n.code=s,n.rawData=e.rawData,n.signature=e.signature,n.encryptedData=e.encryptedData,n.iv=e.iv,n.scene=this.scene,T(n).then((e=>{if(200!=e.status)return o({icon:"none",title:e.data.msg});a("token",e.data.token),o({icon:"success",title:"登录成功"}),t.handleLogin(),c()}))},fail:t=>(c(),o({icon:"none",title:"亲爱的用户，您拒绝了！我就不给您跳转了。"}))})}},fail:t=>o({icon:"none",title:"亲爱的用户，您拒绝了！我就不给您跳转了。"})});else n({url:"/pages/tob/tob02Login"})}},goCreatePage(t){r({url:"/pages/tob/tob17Create"})},goCpuProduct(){r({url:"/pages/tob/tob18Product"})},onLeftTab(){n({url:"/pages/index/index"})},onHomeTab(){n({url:"/pages/index/index"})},onMeTab(){n({url:"/pages/tob/tob15Me"})},openHref(t){window.open(t)},copyText(t){d({data:t,success:()=>{o({title:this.$t("copys"),icon:"success"})},fail:()=>{o({title:this.$t("copye"),icon:"none"})}})}}},[["render",function(t,e,a,s,n,l){const i=v,o=p,c=B(u("uni-link"),L);return g(),_(o,{class:"flex column alignCenter bg_div"},{default:f((()=>[m(o,{class:"flex row justifyBetween alignCenter header_div",style:h("margin-top:"+n.appStatusBarHeight+"rpx")},{default:f((()=>[m(o,{class:"flex row alignCenter",onClick:e[0]||(e[0]=t=>l.onLeftTab())},{default:f((()=>[m(i,{class:"header_img",src:S}),m(o,{class:"title"},{default:f((()=>[x("Deploy AI")])),_:1})])),_:1}),m(o,{class:"flex row justifyCenter alignCenter tab_div"},{default:f((()=>[m(o,{class:"flex column justifyCenter alignCenter tab_div_item",onClick:e[1]||(e[1]=t=>l.goCpuProduct())},{default:f((()=>[m(i,{class:"tab_img",src:S}),m(o,{class:"tab_label"},{default:f((()=>[x("complaint")])),_:1})])),_:1}),m(o,{class:"flex column justifyCenter alignCenter tab_div_item",onClick:e[2]||(e[2]=t=>l.onMeTab())},{default:f((()=>[m(i,{class:"tab_img",src:A}),m(o,{class:"tab_label"},{default:f((()=>[x("me")])),_:1})])),_:1})])),_:1})])),_:1},8,["style"]),m(o,{class:"flex column alignCenter div_content"},{default:f((()=>[m(o,{class:"text1"},{default:f((()=>[x(b(t.$t("tobIndex_text1")),1)])),_:1}),m(o,{class:"text2"},{default:f((()=>[x(b(t.$t("tobIndex_text2")),1)])),_:1}),m(o,{class:"text3"},{default:f((()=>[x(b(t.$t("tobIndex_text3")),1)])),_:1}),m(o,{class:"text4"},{default:f((()=>[x(b(t.$t("tobIndex_text4")),1)])),_:1}),m(o,{class:"btn1 flex alignCenter justifyCenter",onClick:e[3]||(e[3]=t=>l.handlecomfyui())},{default:f((()=>[m(i,{class:"githupcss",src:D}),x(" "+b(t.$t("18_ComfyUI_generation")),1)])),_:1}),m(o,{class:"text5 textAlign"},{default:f((()=>[x(b(t.$t("tobIndex_text5"))+"：",1)])),_:1}),m(o,{class:"text6 textAlign"},{default:f((()=>[x(b(t.$t("tobIndex_text6")),1)])),_:1}),m(o,{class:"flex row justifyCenter wrap card2_div"},{default:f((()=>[(g(!0),C(y,null,w(n.clientList,((e,a)=>(g(),_(o,{class:"flex column card2",key:e.id},{default:f((()=>[m(o,{class:"flex row alignCenter card2_item"},{default:f((()=>[m(i,{class:"product_img",mode:"aspectFill",src:e.images[0].image},null,8,["src"]),m(o,{class:"flex column justifyBetween alignCenter card2_right_item"},{default:f((()=>[m(o,{class:"product_value_label"},{default:f((()=>[x(b(e.title),1)])),_:2},1024),m(o,{class:"flex row justifyCenter alignCenter btn_div",onClick:t=>l.handleLogin(e.id)},{default:f((()=>[m(i,{class:"btn_img",src:M}),m(o,{class:"btn_text"},{default:f((()=>[x(b(t.$t("tobIndex_text7")),1)])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024),m(o,{class:"flex row justifyBetween wrap card2_item2"},{default:f((()=>[m(o,{class:"flex row justifyBetween card2_right_item"},{default:f((()=>[m(o,{class:"card2_right_label",onClick:t=>l.openHref(e.preview_url)},{default:f((()=>[j("span",{class:"card2_right_head"},b(t.$t("tobIndex_text8"))+"URL:",1),j("span",{class:"underline"},b(e.preview_url),1)])),_:2},1032,["onClick"]),m(o,{class:"card2_right_copy",onClick:t=>l.copyText(e.preview_url)},{default:f((()=>[x(b(t.$t("tobIndex_text9")),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),m(o,{class:"flex row justifyCenter alignCenter bottom_btn_div",onClick:e[4]||(e[4]=t=>l.handleLogin())},{default:f((()=>[m(i,{class:"bottom_btn_img",src:M}),m(o,{class:"bottom_btn_text"},{default:f((()=>[x(b(t.$t("tobIndex_text10")),1)])),_:1})])),_:1})])),_:1}),n.isChinese?(g(),_(c,{key:0,href:n.src,text:"【粤ICP备2024312061号-2】",class:"linkCss"},null,8,["href"])):k("",!0)])),_:1})}],["__scopeId","data-v-80108b41"]]);export{R as default};
