import{b as t,r as e,d as a,e as s,A as l,f as i,w as n,i as u,o,j as r,k as c,m as d,v as p,q as _,t as f,F as g,u as m,x as h,p as y,z as b}from"./index-CpWPz4L8.js";import{_ as C}from"./uni-link.CmuB1LtF.js";import{_ as x,a as w,b as D}from"./home.Dv4w4sQQ.js";import{d as I,a as P,g as T,c as k}from"./browser.twbzEShY.js";import{P as v,c as j,t as L,g as S,_ as A}from"./index.vUNVDGfd.js";import{_ as B,a as $}from"./speed.FiO8-Deg.js";const G=x({components:{Pay:v},data:()=>({appStatusBarHeight:0,href:"https://uniapp.dcloud.io/component/README?id=uniui",templatelist:[],gpulist:[],templatesID:null,gpuID:null,account:null,powersID:null,powersList:[],powerValue:null,priceShow:{},durationTypeList:[],durationTypeArray:{}}),onLoad(t){t.id&&(this.templatesID=Number(t.id))},onShow:function(){this.getDurationType(),Promise.all([this.getTemplatesList(),this.getGpusList()]).then((t=>{this.getDurationPrice()})),this.getUserPower();let{statusBarHeight:e}=t();e>0&&(this.appStatusBarHeight=40+e)},methods:{goCpuProduct(){e({url:"/pages/tob/tob18Product"})},getDurationPrice(){let t={gpu_config_id:this.gpuID,template_id:this.templatesID};I(t).then((t=>{this.durationTypeList=t.data.result,this.durationTypeArray=this.durationTypeList.find((t=>!t.isSoldOut)),this.getClculatePrice()}))},getDurationType(){P().then((t=>{this.durationTypeList=t.data.durationTypes}))},goProductPage(){if(this.account>=this.priceShow.amount){let t={gpu_config_id:this.gpuID,template_id:this.templatesID,billing_type:this.durationTypeArray.type};j(t).then((t=>{2e4==t.code&&(a({icon:"success",title:"实例创建成功"}),e({url:"/pages/tob/tob18Product"}))}))}else this.$refs.pay.goProductPage()},goPay(){this.$refs.popup.close(),e({url:"/pages/tob/tob18Product"})},getUserPower(){T().then((t=>{2e4==t.code&&(this.account=t.data.account)}))},onLeftTab(){e({url:"/pages/index/index"})},onHomeTab(){e({url:"/pages/index/index"})},onMeTab(){e({url:"/pages/tob/tob15Me"})},async getTemplatesList(){await L().then((t=>{2e4===t.code&&(this.templatelist=t.data.templates,this.templatesID=this.templatesID?this.templatesID:this.templatelist[0].ID)}))},async getGpusList(){await S().then((t=>{2e4===t.code&&(this.gpulist=t.data.gpus,this.gpuID=this.gpulist[0].ID)}))},templateChange(t){this.templatesID=t.ID,this.getClculatePrice()},gpuChange(t){this.gpuID=t.ID,this.getClculatePrice()},durationTypeChange(t){if(t.isSoldOut)return a({icon:"none",title:"当前模块已售完，请选择其他模块"});this.durationTypeArray=t,this.getClculatePrice()},getClculatePrice(){let t={gpu_config_id:this.gpuID,template_id:this.templatesID,duration_type:this.durationTypeArray.type};k(t).then((t=>{2e4==t.code&&(this.priceShow=t.data)}))}}},[["render",function(t,e,a,x,I,P){const T=m,k=u,v=w(s("uni-link"),C),j=l("Pay");return o(),i(k,{class:"flex column alignCenter bg_div"},{default:n((()=>[r(k,{class:"flex row justifyBetween alignCenter header_div",style:d("margin-top:"+I.appStatusBarHeight+"rpx")},{default:n((()=>[r(k,{class:"flex row alignCenter",onClick:e[0]||(e[0]=t=>P.onHomeTab())},{default:n((()=>[r(T,{class:"header_img",src:D}),r(k,{class:"title"},{default:n((()=>[c("Deploy AI")])),_:1})])),_:1}),r(k,{class:"flex row justifyCenter alignCenter tab_div"},{default:n((()=>[r(k,{class:"flex column justifyCenter alignCenter tab_div_item",onClick:e[1]||(e[1]=t=>P.goCpuProduct())},{default:n((()=>[r(T,{class:"tab_img",src:D}),r(k,{class:"tab_label"},{default:n((()=>[c("complaint")])),_:1})])),_:1}),r(k,{class:"flex column justifyCenter alignCenter tab_div_item",onClick:e[2]||(e[2]=t=>P.onMeTab())},{default:n((()=>[r(T,{class:"tab_img",src:B}),r(k,{class:"tab_label"},{default:n((()=>[c("me")])),_:1})])),_:1})])),_:1})])),_:1},8,["style"]),r(k,{class:"text1"},{default:n((()=>[c(p(t.$t("14_text1")),1)])),_:1}),r(k,{class:"text3"},{default:n((()=>[c(p(t.$t("14_text3")),1)])),_:1}),r(k,{class:"text4"},{default:n((()=>[c(p(t.$t("14_text4")),1)])),_:1}),r(k,{class:"text5"},{default:n((()=>[c(p(t.$t("14_text5")),1)])),_:1}),r(k,{class:"flex row justifyCenter wrap tab_content_div"},{default:n((()=>[(o(!0),_(g,null,f(I.templatelist,((t,e)=>(o(),i(k,{class:"card1",key:t.ID,onClick:e=>P.templateChange(t),style:d(I.templatesID==t.ID?"border: 5px solid #019083;":"border : unset")},{default:n((()=>[r(k,{class:"flex row justifyBetween alignStart"},{default:n((()=>[r(k,{class:"card1_title"},{default:n((()=>[c(p(t.Title)+" ",1),h("span",{class:"red"},"（"+p(t.Subtitle)+"）",1)])),_:2},1024),I.templatesID==t.ID?(o(),i(T,{key:0,class:"check_img",src:A})):y("",!0)])),_:2},1024),r(k,{class:"card1_value"},{default:n((()=>[c(p(t.Description),1)])),_:2},1024),r(k,{class:"card1_value"},{default:n((()=>[c("移植自官方项目：")])),_:1}),r(k,{class:"card1_value color_main"},{default:n((()=>[r(v,{class:"custom-link",href:t.ProjectLink,text:t.ProjectLink},null,8,["href","text"])])),_:2},1024),r(k,{class:"flex justifyBetween card1_value2"},{default:n((()=>[r(k,null,{default:n((()=>[c(p(t.UpdateKey),1)])),_:2},1024),r(k,null,{default:n((()=>[c(p(t.UpdateValue),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:1}),r(k,{class:"text6"},{default:n((()=>[c(p(t.$t("14_Choose_machine")),1)])),_:1}),r(k,{class:"flex row justifyCenter wrap tab_content_div"},{default:n((()=>[(o(!0),_(g,null,f(I.gpulist,((e,a)=>(o(),i(k,{class:"flex column tab_content_item",key:e.ID,onClick:t=>P.gpuChange(e)},{default:n((()=>[r(k,{class:"flex row justifyBetween alignCenter"},{default:n((()=>[r(k,{class:"tab_content_title"},{default:n((()=>[c(p(e.GpuType),1)])),_:2},1024),I.gpuID==e.ID?(o(),i(T,{key:0,class:"check_img",src:A})):y("",!0)])),_:2},1024),r(k,{class:"flex column tab_content_row"},{default:n((()=>[r(k,{class:"flex row alignCenter"},{default:n((()=>[r(k,{class:"tab_content_value"},{default:n((()=>[c(p(e.VramGB)+"G",1)])),_:2},1024),r(k,{class:"tab_content_label"},{default:n((()=>[c(p(t.$t("14_video_memory")),1)])),_:1})])),_:2},1024),r(k,{class:"flex row alignCenter"},{default:n((()=>[r(k,{class:"tab_content_value"},{default:n((()=>[c(p(e.MemoryGB)+"G",1)])),_:2},1024),r(k,{class:"tab_content_label"},{default:n((()=>[c(p(t.$t("14_memory")),1)])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),r(k,{class:"divider"}),r(k,{class:"bottomDiv alignCenter"},{default:n((()=>[r(k,{class:"flex row justifyEnd alignCenter price_div"},{default:n((()=>[r(k,{class:"price_label"},{default:n((()=>[c("（"+p(I.priceShow.amount)+"算力值/"+p(I.durationTypeArray.tag)+"）",1)])),_:1}),r(k,{class:"price_value"},{default:n((()=>[c(p(I.priceShow.currencyAmount)+"元/"+p(I.durationTypeArray.tag),1)])),_:1})])),_:1}),r(k,{class:"flex row alignCenter bottom_div"},{default:n((()=>[r(k,{class:"flex alignEnd justifyBetween row sale_type_div"},{default:n((()=>[(o(!0),_(g,null,f(I.durationTypeList,((e,a)=>(o(),i(k,{class:"flex column alignCenter sale_type_item",key:e.type,onClick:t=>P.durationTypeChange(e)},{default:n((()=>[e.isSoldOut?(o(),i(k,{key:0,class:"sale_out"},{default:n((()=>[c(p(t.$t("14_sold_out")),1)])),_:1})):y("",!0),r(k,{class:b(["sale_type",I.durationTypeArray.type==e.type?"sale_type_active":""])},{default:n((()=>[c("按"+p(e.tag)+"计费",1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),r(k,{class:"flex row justifyCenter alignCenter btn_div",onClick:e[3]||(e[3]=t=>P.goProductPage())},{default:n((()=>[r(T,{class:"btn_img",src:$}),r(k,{class:"btn_text"},{default:n((()=>[c(p(t.$t("start")),1)])),_:1})])),_:1})])),_:1}),r(j,{ref:"pay"},null,512)])),_:1})}],["__scopeId","data-v-711afea2"]]);export{G as default};
