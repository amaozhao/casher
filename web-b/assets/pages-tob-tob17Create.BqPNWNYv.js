import{b as t,r as e,d as a,e as s,J as l,f as i,w as n,i as u,o,j as r,k as c,m as d,v as p,p as _,q as f,F as g,u as m,x as h,t as y,z as b}from"./index-DZZGyAJD.js";import{_ as x}from"./uni-link.D3O7D8ha.js";import{r as C}from"./uni-app.es.CjVRXCaX.js";import{f as D,g as w,h as I,j as P,t as T,k,l as v}from"./index.B6uA7zyi.js";import{P as j,_ as L}from"./index.BxR9syZC.js";import{_ as S}from"./home.BwDbU5G1.js";import{_ as A,a as B}from"./speed.FiO8-Deg.js";import{_ as $}from"./_plugin-vue_export-helper.BCo6x5W8.js";const G=$({components:{Pay:j},data:()=>({appStatusBarHeight:0,href:"https://uniapp.dcloud.io/component/README?id=uniui",templatelist:[],gpulist:[],templatesID:null,gpuID:null,account:null,powersID:null,powersList:[],powerValue:null,priceShow:{},durationTypeList:[],durationTypeArray:{}}),onLoad(t){t.id&&(this.templatesID=Number(t.id))},onShow:function(){this.getDurationType(),Promise.all([this.getTemplatesList(),this.getGpusList()]).then((t=>{this.getDurationPrice()})),this.getUserPower();let{statusBarHeight:e}=t();e>0&&(this.appStatusBarHeight=40+e)},methods:{goCpuProduct(){e({url:"/pages/tob/tob18Product"})},getDurationPrice(){let t={gpu_config_id:this.gpuID,template_id:this.templatesID};D(t).then((t=>{this.durationTypeList=t.data.result,this.durationTypeArray=this.durationTypeList.find((t=>!t.isSoldOut)),this.getClculatePrice()}))},getDurationType(){w().then((t=>{this.durationTypeList=t.data.durationTypes}))},goProductPage(){if(this.account>=this.priceShow.amount){let t={gpu_config_id:this.gpuID,template_id:this.templatesID,billing_type:this.durationTypeArray.type};I(t).then((t=>{2e4==t.code&&(a({icon:"success",title:"实例创建成功"}),e({url:"/pages/tob/tob18Product"}))}))}else this.$refs.pay.goProductPage()},goPay(){this.$refs.popup.close(),e({url:"/pages/tob/tob18Product"})},getUserPower(){P().then((t=>{2e4==t.code&&(this.account=t.data.account)}))},onLeftTab(){e({url:"/pages/index/index"})},onHomeTab(){e({url:"/pages/index/index"})},onMeTab(){e({url:"/pages/tob/tob15Me"})},async getTemplatesList(){await T().then((t=>{2e4===t.code&&(this.templatelist=t.data.templates,this.templatesID=this.templatesID?this.templatesID:this.templatelist[0].ID)}))},async getGpusList(){await k().then((t=>{2e4===t.code&&(this.gpulist=t.data.gpus,this.gpuID=this.gpulist[0].ID)}))},templateChange(t){this.templatesID=t.ID,this.getClculatePrice()},gpuChange(t){this.gpuID=t.ID,this.getClculatePrice()},durationTypeChange(t){if(t.isSoldOut)return a({icon:"none",title:"当前模块已售完，请选择其他模块"});this.durationTypeArray=t,this.getClculatePrice()},getClculatePrice(){let t={gpu_config_id:this.gpuID,template_id:this.templatesID,duration_type:this.durationTypeArray.type};v(t).then((t=>{2e4==t.code&&(this.priceShow=t.data)}))}}},[["render",function(t,e,a,D,w,I){const P=m,T=u,k=C(s("uni-link"),x),v=l("Pay");return o(),i(T,{class:"flex column alignCenter bg_div"},{default:n((()=>[r(T,{class:"flex row justifyBetween alignCenter header_div",style:d("margin-top:"+w.appStatusBarHeight+"rpx")},{default:n((()=>[r(T,{class:"flex row alignCenter",onClick:e[0]||(e[0]=t=>I.onHomeTab())},{default:n((()=>[r(P,{class:"header_img",src:S}),r(T,{class:"title"},{default:n((()=>[c("Deploy AI")])),_:1})])),_:1}),r(T,{class:"flex row justifyCenter alignCenter tab_div"},{default:n((()=>[r(T,{class:"flex column justifyCenter alignCenter tab_div_item",onClick:e[1]||(e[1]=t=>I.goCpuProduct())},{default:n((()=>[r(P,{class:"tab_img",src:S}),r(T,{class:"tab_label"},{default:n((()=>[c("complaint")])),_:1})])),_:1}),r(T,{class:"flex column justifyCenter alignCenter tab_div_item",onClick:e[2]||(e[2]=t=>I.onMeTab())},{default:n((()=>[r(P,{class:"tab_img",src:A}),r(T,{class:"tab_label"},{default:n((()=>[c("me")])),_:1})])),_:1})])),_:1})])),_:1},8,["style"]),r(T,{class:"text1"},{default:n((()=>[c(p(t.$t("14_text1")),1)])),_:1}),r(T,{class:"text3"},{default:n((()=>[c(p(t.$t("14_text3")),1)])),_:1}),r(T,{class:"text4"},{default:n((()=>[c(p(t.$t("14_text4")),1)])),_:1}),r(T,{class:"text5"},{default:n((()=>[c(p(t.$t("14_text5")),1)])),_:1}),r(T,{class:"flex row justifyCenter wrap tab_content_div"},{default:n((()=>[(o(!0),_(g,null,f(w.templatelist,((t,e)=>(o(),i(T,{class:"card1",key:t.ID,onClick:e=>I.templateChange(t),style:d(w.templatesID==t.ID?"border: 5px solid #019083;":"border : unset")},{default:n((()=>[r(T,{class:"flex row justifyBetween alignStart"},{default:n((()=>[r(T,{class:"card1_title"},{default:n((()=>[c(p(t.Title)+" ",1),h("span",{class:"red"},"（"+p(t.Subtitle)+"）",1)])),_:2},1024),w.templatesID==t.ID?(o(),i(P,{key:0,class:"check_img",src:L})):y("",!0)])),_:2},1024),r(T,{class:"card1_value"},{default:n((()=>[c(p(t.Description),1)])),_:2},1024),r(T,{class:"card1_value"},{default:n((()=>[c("移植自官方项目：")])),_:1}),r(T,{class:"card1_value color_main"},{default:n((()=>[r(k,{class:"custom-link",href:t.ProjectLink,text:t.ProjectLink},null,8,["href","text"])])),_:2},1024),r(T,{class:"flex justifyBetween card1_value2"},{default:n((()=>[r(T,null,{default:n((()=>[c(p(t.UpdateKey),1)])),_:2},1024),r(T,null,{default:n((()=>[c(p(t.UpdateValue),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:1}),r(T,{class:"text6"},{default:n((()=>[c(p(t.$t("14_Choose_machine")),1)])),_:1}),r(T,{class:"flex row justifyCenter wrap tab_content_div"},{default:n((()=>[(o(!0),_(g,null,f(w.gpulist,((e,a)=>(o(),i(T,{class:"flex column tab_content_item",key:e.ID,onClick:t=>I.gpuChange(e)},{default:n((()=>[r(T,{class:"flex row justifyBetween alignCenter"},{default:n((()=>[r(T,{class:"tab_content_title"},{default:n((()=>[c(p(e.GpuType),1)])),_:2},1024),w.gpuID==e.ID?(o(),i(P,{key:0,class:"check_img",src:L})):y("",!0)])),_:2},1024),r(T,{class:"flex column tab_content_row"},{default:n((()=>[r(T,{class:"flex row alignCenter"},{default:n((()=>[r(T,{class:"tab_content_value"},{default:n((()=>[c(p(e.VramGB)+"G",1)])),_:2},1024),r(T,{class:"tab_content_label"},{default:n((()=>[c(p(t.$t("14_video_memory")),1)])),_:1})])),_:2},1024),r(T,{class:"flex row alignCenter"},{default:n((()=>[r(T,{class:"tab_content_value"},{default:n((()=>[c(p(e.MemoryGB)+"G",1)])),_:2},1024),r(T,{class:"tab_content_label"},{default:n((()=>[c(p(t.$t("14_memory")),1)])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),r(T,{class:"divider"}),r(T,{class:"bottomDiv alignCenter"},{default:n((()=>[r(T,{class:"flex row justifyEnd alignCenter price_div"},{default:n((()=>[r(T,{class:"price_label"},{default:n((()=>[c("（"+p(w.priceShow.amount)+"算力值/"+p(w.durationTypeArray.tag)+"）",1)])),_:1}),r(T,{class:"price_value"},{default:n((()=>[c(p(w.priceShow.currencyAmount)+"元/"+p(w.durationTypeArray.tag),1)])),_:1})])),_:1}),r(T,{class:"flex row alignCenter bottom_div"},{default:n((()=>[r(T,{class:"flex alignEnd justifyBetween row sale_type_div"},{default:n((()=>[(o(!0),_(g,null,f(w.durationTypeList,((e,a)=>(o(),i(T,{class:"flex column alignCenter sale_type_item",key:e.type,onClick:t=>I.durationTypeChange(e)},{default:n((()=>[e.isSoldOut?(o(),i(T,{key:0,class:"sale_out"},{default:n((()=>[c(p(t.$t("14_sold_out")),1)])),_:1})):y("",!0),r(T,{class:b(["sale_type",w.durationTypeArray.type==e.type?"sale_type_active":""])},{default:n((()=>[c("按"+p(e.tag)+"计费",1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),r(T,{class:"flex row justifyCenter alignCenter btn_div",onClick:e[3]||(e[3]=t=>I.goProductPage())},{default:n((()=>[r(P,{class:"btn_img",src:B}),r(T,{class:"btn_text"},{default:n((()=>[c(p(t.$t("start")),1)])),_:1})])),_:1})])),_:1}),r(v,{ref:"pay"},null,512)])),_:1})}],["__scopeId","data-v-711afea2"]]);export{G as default};
